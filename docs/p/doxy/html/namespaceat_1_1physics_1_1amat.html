<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pyAT: at.physics.amat Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="company_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pyAT
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">Python implementation of the Accelerator Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceat.html">at</a></li><li class="navelem"><a class="el" href="namespaceat_1_1physics.html">physics</a></li><li class="navelem"><a class="el" href="namespaceat_1_1physics_1_1amat.html">amat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">at.physics.amat Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ace46aa3fc644e200ec527fe120ab8195"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#ace46aa3fc644e200ec527fe120ab8195">jmat</a> (ind)</td></tr>
<tr class="separator:ace46aa3fc644e200ec527fe120ab8195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961236acdf2cf440997c1cff9eedd90a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#a961236acdf2cf440997c1cff9eedd90a">jmatswap</a> (ind)</td></tr>
<tr class="separator:a961236acdf2cf440997c1cff9eedd90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0307af3124ad62f93b2e72872ea24ec8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#a0307af3124ad62f93b2e72872ea24ec8">a_matrix</a> (tt)</td></tr>
<tr class="separator:a0307af3124ad62f93b2e72872ea24ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d610a6c0467084e296c8668cf863df"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#ad8d610a6c0467084e296c8668cf863df">amat</a> (tt)</td></tr>
<tr class="separator:ad8d610a6c0467084e296c8668cf863df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d78bf815f595157feaa2bc2c09c01f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#ad9d78bf815f595157feaa2bc2c09c01f">symplectify</a> (M)</td></tr>
<tr class="separator:ad9d78bf815f595157feaa2bc2c09c01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97b4461cc0747783bddad374411d4ed4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#a97b4461cc0747783bddad374411d4ed4">get_mode_matrices</a> (a)</td></tr>
<tr class="separator:a97b4461cc0747783bddad374411d4ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66602223d545d333da4b1cc9e96cf7a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1amat.html#aa66602223d545d333da4b1cc9e96cf7a">get_tunes_damp</a> (tt, rr=None)</td></tr>
<tr class="separator:aa66602223d545d333da4b1cc9e96cf7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment"></pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a0307af3124ad62f93b2e72872ea24ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0307af3124ad62f93b2e72872ea24ec8">&#9670;&nbsp;</a></span>a_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.a_matrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A, eigval = a_matrix(T)
Find the A matrix from one turn map matrix T such that:

           [Rotx  0    0  ]
inv(A)*T*A=[ 0   Rotz  0  ]
           [ 0    0   Rots]

Order it so that it is close to the order of x,y,z
also ensure that positive modes are before negative so that
one has proper symplecticity
B. Nash July 18, 2013

INPUT
T       (m, m)  transfer matrix for 1 turn

OUTPUT
A       (m, m)  A-matrix
eigval  (m,)    vector of Eigen values of T
</pre> 
</div>
</div>
<a id="ad8d610a6c0467084e296c8668cf863df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d610a6c0467084e296c8668cf863df">&#9670;&nbsp;</a></span>amat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.amat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A = amat(T)
Find the A matrix from one turn map matrix T
Provided for backward compatibility, see " A, eigval = a_matrix(T)"

INPUT
T       (m, m)  transfer matrix for 1 turn

OUTPUT
A       (m, m)  A-matrix
</pre> 
</div>
</div>
<a id="a97b4461cc0747783bddad374411d4ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97b4461cc0747783bddad374411d4ed4">&#9670;&nbsp;</a></span>get_mode_matrices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.get_mode_matrices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given a (m, m) A matrix , find the R-matrices of the m/2 normal modes</pre> 
</div>
</div>
<a id="aa66602223d545d333da4b1cc9e96cf7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66602223d545d333da4b1cc9e96cf7a">&#9670;&nbsp;</a></span>get_tunes_damp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.get_tunes_damp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rr</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">mode_emit, damping_rates, tunes = get_tunes_damp(T, R)

INPUT
    T                   (m, m) transfer matrix for 1 turn
    R                   (m, m) beam matrix (optional)

    m can be 2 (single plane), 4 (betatron motion) or 6 (full motion)

OUTPUT
    record array with the following fields:
    tunes               (m/2,) tunes of the m/2 normal modes
    damping_rates       (m/2,) damping rates of the m/2 normal modes
    mode_matrices       (m/2, m, m) the R-matrices of the m/2 normal modes
    mode_emittances     Only if R is specified: (m/2,) emittance of each
                        of the m/2 normal modes
</pre> 
</div>
</div>
<a id="ace46aa3fc644e200ec527fe120ab8195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace46aa3fc644e200ec527fe120ab8195">&#9670;&nbsp;</a></span>jmat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.jmat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ind</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the antisymetric block diagonal matrix [[0, 1][-1, 0]]

INPUT
    ind     1, 2 or 3. Matrix dimension

OUTPUT
    jm      block diagonal matrix, (2, 2) or (4, 4) or (6, 6)
</pre> 
</div>
</div>
<a id="a961236acdf2cf440997c1cff9eedd90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961236acdf2cf440997c1cff9eedd90a">&#9670;&nbsp;</a></span>jmatswap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.jmatswap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ind</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Modified version of jmat to deal with the swap of the
longitudinal coordinates</pre> 
</div>
</div>
<a id="ad9d78bf815f595157feaa2bc2c09c01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d78bf815f595157feaa2bc2c09c01f">&#9670;&nbsp;</a></span>symplectify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.amat.symplectify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>M</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">symplectify makes a matrix more symplectic
follow Healy algorithm as described by McKay
BNL-75461-2006-CP
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
