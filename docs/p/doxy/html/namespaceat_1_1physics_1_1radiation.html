<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>pyAT: at.physics.radiation Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/jothepro/doxygen-awesome-css" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="company_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pyAT
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">Python implementation of the Accelerator Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespaceat_1_1physics_1_1radiation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">at.physics.radiation Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a92a0b22940ab84f6aab91a014fec2b9c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1radiation.html#a92a0b22940ab84f6aab91a014fec2b9c">ohmi_envelope</a> (ring, refpts=None, orbit=None, keep_lattice=False)</td></tr>
<tr class="separator:a92a0b22940ab84f6aab91a014fec2b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2995d972da8322a46023e2554a5d58"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1radiation.html#a8c2995d972da8322a46023e2554a5d58">get_radiation_integrals</a> (ring, dp=None, twiss=None, **kwargs)</td></tr>
<tr class="separator:a8c2995d972da8322a46023e2554a5d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17adb2b44b77b809fe3814e6d373c27b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1radiation.html#a17adb2b44b77b809fe3814e6d373c27b">quantdiffmat</a> (ring, orbit=None)</td></tr>
<tr class="separator:a17adb2b44b77b809fe3814e6d373c27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ead835bcd91ebb7518286b738ac25d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1radiation.html#a56ead835bcd91ebb7518286b738ac25d">gen_quantdiff_elem</a> (ring, orbit=None)</td></tr>
<tr class="separator:a56ead835bcd91ebb7518286b738ac25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d947a255ef1f012cc438264b93814f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1radiation.html#af4d947a255ef1f012cc438264b93814f">tapering</a> (ring, multipoles=True, niter=1, **kwargs)</td></tr>
<tr class="separator:af4d947a255ef1f012cc438264b93814f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad60ec92bb41cc98391a8ab78d5b0827b"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1radiation.html#ad60ec92bb41cc98391a8ab78d5b0827b">ENVELOPE_DTYPE</a></td></tr>
<tr class="separator:ad60ec92bb41cc98391a8ab78d5b0827b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Radiation and equilibrium emittances
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a56ead835bcd91ebb7518286b738ac25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ead835bcd91ebb7518286b738ac25d">&#9670;&nbsp;</a></span>gen_quantdiff_elem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.radiation.gen_quantdiff_elem </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>orbit</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generates a quantum diffusion element
</pre> 
</div>
</div>
<a id="a8c2995d972da8322a46023e2554a5d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c2995d972da8322a46023e2554a5d58">&#9670;&nbsp;</a></span>get_radiation_integrals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.radiation.get_radiation_integrals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dp</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>twiss</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the 5 radiation integrals for uncoupled lattices.

PARAMETERS
    ring            lattice description.

KEYWORDS
    twiss=None      linear optics at all points (from linopt). If None,
                    it will be computed.
    dp=0.0          Ignored if radiation is ON. Momentum deviation.
    dct=None        Ignored if radiation is ON. Path lengthening.
                    If specified, dp is ignored and the off-momentum is
                    deduced from the path lengthening.
    method=linopt6  Method used for the analysis of the transfer matrix.
                    See get_optics.
                    linopt6: default
                    linopt2: faster if no longitudinal motion and
                             no H/V coupling,

OUTPUT
    i1, i2, i3, i4, i5
</pre> 
</div>
</div>
<a id="a92a0b22940ab84f6aab91a014fec2b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a0b22940ab84f6aab91a014fec2b9c">&#9670;&nbsp;</a></span>ohmi_envelope()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.radiation.ohmi_envelope </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>refpts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>orbit</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_lattice</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate the equilibrium beam envelope in a
circular accelerator using Ohmi's beam envelope formalism [1]

emit0, beamdata, emit = ohmi_envelope(ring[, refpts])

PARAMETERS
    ring            Lattice object.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.

KEYWORDS
    orbit=None          Avoids looking for the closed orbit if it is
                        already known ((6,) array)
    keep_lattice=False  Assume no lattice change since the previous
                        tracking

OUTPUT
    emit0               emittance data at the start/end of the ring
    beamdata            beam parameters at the start of the ring
    emit                emittance data at the points refered to by refpts,
                        if refpts is None an empty structure is returned.

    emit is a record array with fields:
    r66                 (6, 6) equilibrium envelope matrix R
    r44                 (4, 4) betatron emittance matrix (dpp = 0)
    m66                 (6, 6) transfer matrix from the start of the ring
    orbit6              (6,) closed orbit
    emitXY              (2,) betatron emittance projected on xxp and yyp
    emitXYZ             (3,) 6x6 emittance projected on xxp, yyp, ldp

    beamdata is a record array with fields:
    tunes               tunes of the 3 normal modes
    damping_rates       damping rates of the 3 normal modes
    mode_matrices       R-matrices of the 3 normal modes
    mode_emittances     equilibrium emittances of the 3 normal modes

    Field values can be obtained with either
    emit['r66']    or
    emit.r66

REFERENCES
    [1] K.Ohmi et al. Phys.Rev.E. Vol.49. (1994)
</pre> 
</div>
</div>
<a id="a17adb2b44b77b809fe3814e6d373c27b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17adb2b44b77b809fe3814e6d373c27b">&#9670;&nbsp;</a></span>quantdiffmat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.radiation.quantdiffmat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>orbit</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function computes the diffusion matrix of the whole ring

PARAMETERS
    ring            lattice description.
    orbit=None      initial orbit

OUTPUT
    diffusion matrix (6,6)
</pre> 
</div>
</div>
<a id="af4d947a255ef1f012cc438264b93814f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d947a255ef1f012cc438264b93814f">&#9670;&nbsp;</a></span>tapering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.radiation.tapering </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>multipoles</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>niter</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Scales magnet strength with local energy to cancel the closed orbit
and optics errors due to synchrotron radiations. PolynomB is used for
dipoles such that the machine geometry is maintained. This is the ideal
tapering scheme where magnets and multipoles components (PolynomB and
PolynomA) are scaled individually.
!!! WARNING: This method works only for lattices without errors and
corrections: if not all corrections and field errors will also be
scaled !!!
tapering(ring) or ring.tapering()
PARAMETERS
    ring            lattice description.

KEYWORDS
    multipoles=True scale all multipoles
    method          Method for energy loss computation
                    (see get_energy_loss)
    niter=1         number of iteration
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-6   momentum deviation used for computation of orbit6
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad60ec92bb41cc98391a8ab78d5b0827b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60ec92bb41cc98391a8ab78d5b0827b">&#9670;&nbsp;</a></span>ENVELOPE_DTYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list at.physics.radiation.ENVELOPE_DTYPE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  [(<span class="stringliteral">&#39;r66&#39;</span>, numpy.float64, (6, 6)),</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                  (<span class="stringliteral">&#39;r44&#39;</span>, numpy.float64, (4, 4)),</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                  (<span class="stringliteral">&#39;m66&#39;</span>, numpy.float64, (6, 6)),</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                  (<span class="stringliteral">&#39;orbit6&#39;</span>, numpy.float64, (6,)),</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                  (<span class="stringliteral">&#39;emitXY&#39;</span>, numpy.float64, (2,)),</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                  (<span class="stringliteral">&#39;emitXYZ&#39;</span>, numpy.float64, (3,))]</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceat.html">at</a></li><li class="navelem"><a class="el" href="namespaceat_1_1physics.html">physics</a></li><li class="navelem"><a class="el" href="namespaceat_1_1physics_1_1radiation.html">radiation</a></li>
    <li class="footer">Generated on Tue May 10 2022 16:53:19 for pyAT by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
