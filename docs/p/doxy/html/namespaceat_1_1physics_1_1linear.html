<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pyAT: at.physics.linear Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="company_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pyAT
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">Python implementation of the Accelerator Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespaceat_1_1physics_1_1linear.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">at.physics.linear Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a095dbfad26193a6c9049757950d0a90d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#a095dbfad26193a6c9049757950d0a90d">linopt2</a> (ring, *args, **kwargs)</td></tr>
<tr class="separator:a095dbfad26193a6c9049757950d0a90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ae6cfdb3a3a9288a4d4883b5ece5a2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#a91ae6cfdb3a3a9288a4d4883b5ece5a2">linopt4</a> (ring, *args, **kwargs)</td></tr>
<tr class="separator:a91ae6cfdb3a3a9288a4d4883b5ece5a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa15a9e0a6d5eecc6a7743cf94d78f36e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#aa15a9e0a6d5eecc6a7743cf94d78f36e">linopt6</a> (ring, *args, **kwargs)</td></tr>
<tr class="separator:aa15a9e0a6d5eecc6a7743cf94d78f36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c5bccb9c9f6abbcae668e8ebf0b6fc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#a77c5bccb9c9f6abbcae668e8ebf0b6fc">linopt_auto</a> (ring, *args, **kwargs)</td></tr>
<tr class="separator:a77c5bccb9c9f6abbcae668e8ebf0b6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98c02c01dc18ba8d3daf1cebe1fdd71"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#ad98c02c01dc18ba8d3daf1cebe1fdd71">get_optics</a> (ring, refpts=None, dp=None, method=<a class="el" href="namespaceat_1_1physics_1_1linear.html#aa15a9e0a6d5eecc6a7743cf94d78f36e">linopt6</a>, **kwargs)</td></tr>
<tr class="separator:ad98c02c01dc18ba8d3daf1cebe1fdd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac34e48889ffa418c18eedd7431d21e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#acac34e48889ffa418c18eedd7431d21e">linopt</a> (ring, dp=0.0, refpts=None, <a class="el" href="namespaceat_1_1physics_1_1linear.html#a59c885d3c3e1ed74b95de48c69307a07">get_chrom</a>=False, **kwargs)</td></tr>
<tr class="separator:acac34e48889ffa418c18eedd7431d21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f0966702da4634ac7ac681eff573f8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#a47f0966702da4634ac7ac681eff573f8">avlinopt</a> (ring, dp=0.0, refpts=None, **kwargs)</td></tr>
<tr class="separator:a47f0966702da4634ac7ac681eff573f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b1385dcd08c2f818cd25951f423f0f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#a81b1385dcd08c2f818cd25951f423f0f">get_tune</a> (ring, method='<a class="el" href="namespaceat_1_1physics_1_1linear.html#acac34e48889ffa418c18eedd7431d21e">linopt</a>', dp=None, dct=None, orbit=None, **kwargs)</td></tr>
<tr class="separator:a81b1385dcd08c2f818cd25951f423f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c885d3c3e1ed74b95de48c69307a07"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceat_1_1physics_1_1linear.html#a59c885d3c3e1ed74b95de48c69307a07">get_chrom</a> (ring, method='<a class="el" href="namespaceat_1_1physics_1_1linear.html#acac34e48889ffa418c18eedd7431d21e">linopt</a>', dp=0, dct=None, cavpts=None, **kwargs)</td></tr>
<tr class="separator:a59c885d3c3e1ed74b95de48c69307a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Coupled or non-coupled 4x4 linear motion
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a47f0966702da4634ac7ac681eff573f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f0966702da4634ac7ac681eff573f8">&#9670;&nbsp;</a></span>avlinopt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.avlinopt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dp</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>refpts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform linear analysis of a lattice and returns average
beta, dispersion and phase advance

lindata,avebeta,avemu,avedisp,tune,chrom = avlinopt(lattice, dp, refpts)

PARAMETERS
    lattice         lattice description.
    dp=0.0          momentum deviation.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.

KEYWORDS
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    keep_lattice    Assume no lattice change since the previous tracking.
                    Defaults to False
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-8   momentum deviation used for computation of
                    chromaticities and dispersion

OUTPUT
    lindata         linear optics at the points refered to by refpts, if
                    refpts is None an empty lindata structure is returned.
                    See linopt4 for details
    avebeta         Average beta functions [betax,betay] at refpts
    avemu           Average phase advances [mux,muy] at refpts
    avedisp         Average dispersion [Dx,Dx',Dy,Dy'] at refpts
    avespos         Average s position at refpts
    tune            [tune_A, tune_B], linear tunes for the two normal modes
                    of linear motion [1]
    chrom           [ksi_A , ksi_B], chromaticities ksi = d(nu)/(dP/P).

See also linopt4, get_optics
</pre> 
</div>
</div>
<a id="a59c885d3c3e1ed74b95de48c69307a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c885d3c3e1ed74b95de48c69307a07">&#9670;&nbsp;</a></span>get_chrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.get_chrom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>'<a class="el" href="namespaceat_1_1physics_1_1linear.html#acac34e48889ffa418c18eedd7431d21e">linopt</a>'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dp</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dct</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cavpts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">gets the chromaticity using several available methods

PARAMETERS
    ring            lattice description.

KEYWORDS
    dp=None         Ignored if radiation is ON. Momentum deviation.
    dct=None        Ignored if radiation is ON. Path lengthening.
                    If specified, dp is ignored and the off-momentum is
                    deduced from the path lengthening.
    orbit           avoids looking for the closed orbit if already known
                    ((6,) array)
    method='linopt' 'linopt' returns the tunes from the linopt function
                    'laskar' tracks a single particle and computes the
                    tunes with NAFF
    DPStep=1.0E-6   momentum step used for the computation of
                    chromaticities

  for the 'laskar' method only:

    nturns=512      number of turns
    amplitude=1.0E-6 amplitude of oscillation
    remove_dc=False Remove the mean of oscillation data
    num_harmonics   number of harmonic components to compute
                    (before mask applied, default=20)
    fmin/fmax       determine the boundaries within which the tune is
                    located [default 0-&gt;1]
    hann=False      flag to turn on Hanning window

OUTPUT
    chromaticities = np.array([Q'x,Q'y])
</pre> 
</div>
</div>
<a id="ad98c02c01dc18ba8d3daf1cebe1fdd71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98c02c01dc18ba8d3daf1cebe1fdd71">&#9670;&nbsp;</a></span>get_optics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.get_optics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>refpts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dp</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code><a class="el" href="namespaceat_1_1physics_1_1linear.html#aa15a9e0a6d5eecc6a7743cf94d78f36e">linopt6</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform linear analysis of a fully coupled lattice

elemdata0, beamdata, elemdata = get_optics(lattice, refpts, **kwargs)

PARAMETERS
    lattice         lattice description.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.
KEYWORDS
    method=linopt6  Method used for the analysis of the transfer matrix.
                    Can be None at.linopt2, at.linopt4, at.linopt6
                    linopt2:    no longitudinal motion, no H/V coupling,
                    linopt4:    no longitudinal motion, Sagan/Rubin
                                4D-analysis of coupled motion,
                    linopt6:    with or without longitudinal motion, normal
                                mode analysis
    dp=None         Ignored if radiation is ON. Momentum deviation.
    dct=None        Ignored if radiation is ON. Path lengthening.
                    If specified, dp is ignored and the off-momentum is
                    deduced from the path lengthening.
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    get_chrom=False compute chromaticities. Needs computing the tune at
                    2 different momentum deviations around the central one.
    get_w=False     computes chromatic amplitude functions (W) [4].
                    Needs to compute the optics at 2 different momentum
                    deviations around the central one.
    keep_lattice    Assume no lattice change since the previous tracking.
                    Defaults to False
    twiss_in=None   Initial conditions for transfer line optics. Record
                    array as output by linopt, or dictionary. Keys:
                    'R' or 'alpha' and 'beta'   (mandatory)
                    'closed_orbit',             (default 0)
                    'dispersion'                (default 0)
                    If present, the attribute 'R' will be used, otherwise
                    the attributes 'alpha' and 'beta' will be used. All
                    other attributes are ignored.
OUTPUT
    elemdata0       linear optics data at the entrance/end of the ring
    beamdata        lattice properties
    elemdata        linear optics at the points refered to by refpts, if
                    refpts is None an empty elemdata structure is returned.

    elemdata is a record array with fields depending on the
    selected method.
    See the help for linopt6, linopt4, linopt2, linopt_auto.

    beamdata is a record with fields:
    tune            Fractional tunes
    chromaticity    Chromaticities
    damping_time    Damping times [s] (only if radiation is ON)
</pre> 
</div>
</div>
<a id="a81b1385dcd08c2f818cd25951f423f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b1385dcd08c2f818cd25951f423f0f">&#9670;&nbsp;</a></span>get_tune()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.get_tune </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>'<a class="el" href="namespaceat_1_1physics_1_1linear.html#acac34e48889ffa418c18eedd7431d21e">linopt</a>'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dp</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dct</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>orbit</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">gets the tune using several available methods

PARAMETERS
    ring            lattice description.

KEYWORDS
    dp=None         Ignored if radiation is ON. Momentum deviation.
    dct=None        Ignored if radiation is ON. Path lengthening.
                    If specified, dp is ignored and the off-momentum is
                    deduced from the path lengthening.
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    method='linopt' 'linopt' returns the tunes from the linopt function
                    'fft' tracks a single particle and computes the
                    tunes with fft 'laskar' tracks a single particle
                    and computes the tunes with NAFF

  for the 'fft' and 'laskar' methods only:

    nturns=512      number of turns
    amplitude=1.0E-6 amplitude of oscillation
    remove_dc=False Remove the mean of oscillation data
    num_harmonics   number of harmonic components to compute
                    (before mask applied, default=20)
    fmin/fmax       determine the boundaries within which the tune is
                    located [default 0-&gt;1]
    hann=False      flag to turn on Hanning window

OUTPUT
    tunes = np.array([Qx,Qy])
</pre> 
</div>
</div>
<a id="acac34e48889ffa418c18eedd7431d21e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac34e48889ffa418c18eedd7431d21e">&#9670;&nbsp;</a></span>linopt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.linopt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dp</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>refpts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>get_chrom</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform linear analysis of a H/V coupled lattice following Sagan/Rubin
4D-analysis of coupled motion

lindata0, tune, chrom, lindata = linopt(lattice, dp, refpts, **kwargs)

PARAMETERS
    lattice         lattice description.
    dp=0.0          momentum deviation.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.
KEYWORDS
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    get_chrom=False compute chromaticities. Needs computing the tune at
                    2 different momentum deviations around the central one.
    get_w=False     computes chromatic amplitude functions (W) [4].
                    Needs to compute the optics at 2 different momentum
                    deviations around the central one.
    keep_lattice    Assume no lattice change since the previous tracking.
                    Defaults to False
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-6   momentum deviation used for computation of
                    chromaticities and dispersion
    coupled=True    if False, simplify the calculations by assuming
                    no H/V coupling
    twiss_in=None   Initial conditions for transfer line optics. Record
                    array as output by linopt, or dictionary. Keys:
                    'alpha' and 'beta'  (mandatory)
                    'closed_orbit',     (default 0)
                    'dispersion'        (default 0)
                    All other attributes are ignored.
OUTPUT
    lindata0        linear optics data at the entrance of the ring
    tune            [tune_A, tune_B], linear tunes for the two normal modes
                    of linear motion [1]
    chrom           [ksi_A , ksi_B], chromaticities ksi = d(nu)/(dP/P).
                    Only computed if 'get_chrom' is True
    lindata         linear optics at the points refered to by refpts, if
                    refpts is None an empty lindata structure is returned.

    lindata is a record array with fields:
    idx             element index in the ring
    s_pos           longitudinal position [m]
    m44             (4, 4) transfer matrix M from the beginning of ring
                    to the entrance of the element [2]
    closed_orbit    (6,) closed orbit vector
    dispersion      (4,) dispersion vector
    beta            [betax, betay] vector
    alpha           [alphax, alphay] vector
    mu              [mux, muy], betatron phase (modulo 2*pi)
    W               (2,) chromatic amplitude function (only if get_w==True)
    All values given at the entrance of each element specified in refpts.
    In case coupled == True additional outputs are available:
    gamma           gamma parameter of the transformation to eigenmodes
    A               (2, 2) matrix A in [3]
    B               (2, 2) matrix B in [3]
    C               (2, 2) matrix C in [3]
    Field values can be obtained with either
    lindata['idx']    or
    lindata.idx
REFERENCES
    [1] D.Edwards,L.Teng IEEE Trans.Nucl.Sci. NS-20, No.3, p.885-888, 1973
    [2] E.Courant, H.Snyder
    [3] D.Sagan, D.Rubin Phys.Rev.Spec.Top.-Accelerators and beams,
        vol.2 (1999)
    [4] Brian W. Montague Report LEP Note 165, CERN, 1979
</pre> 
</div>
</div>
<a id="a095dbfad26193a6c9049757950d0a90d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095dbfad26193a6c9049757950d0a90d">&#9670;&nbsp;</a></span>linopt2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.linopt2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform linear analysis of an uncoupled lattice

elemdata0, beamdata, elemdata = linopt2(ring, refpts, **kwargs)

PARAMETERS
    lattice         lattice description.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.
KEYWORDS
    dp=0.0          momentum deviation.
    dct=None        path lengthening. If specified, dp is ignored and the
                    off-momentum is deduced from the path lengthening.
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    get_chrom=False compute chromaticities. Needs computing the tune at
                    2 different momentum deviations around the central one.
    get_w=False     computes chromatic amplitude functions (W) [4].
                    Needs to compute the optics at 2 different momentum
                    deviations around the central one.
    keep_lattice    Assume no lattice change since the previous tracking.
                    Defaults to False
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-6   momentum deviation used for computation of
                    chromaticities and dispersion
    twiss_in=None   Initial conditions for transfer line optics. Record
                    array as output by linopt, or dictionary. Keys:
                    'alpha' and 'beta'  (mandatory)
                    'closed_orbit',     (default 0)
                    'dispersion'        (default 0)
                    All other attributes are ignored.
OUTPUT
    lindata0        linear optics data at the entrance of the ring
    beamdata        lattice properties
    lindata         linear optics at the points refered to by refpts, if
                    refpts is None an empty lindata structure is returned.

    lindata is a record array with fields:
    s_pos           longitudinal position [m]
    M               (4, 4) transfer matrix M from the beginning of ring
                    to the entrance of the element [2]
    closed_orbit    (6,) closed orbit vector
    dispersion      (4,) dispersion vector
    beta            [betax, betay] vector
    alpha           [alphax, alphay] vector
    mu              [mux, muy], betatron phase (modulo 2*pi)
    W               (2,) chromatic amplitude function (only if get_w==True)
    All values given at the entrance of each element specified in refpts.
    Field values can be obtained with either
    lindata['idx']    or
    lindata.idx

    beamdata is a record with fields:
    tune            Fractional tunes
    chromaticity    Chromaticities, only computed if get_chrom=True

REFERENCES
    [1] D.Edwards,L.Teng IEEE Trans.Nucl.Sci. NS-20, No.3, p.885-888, 1973
    [2] E.Courant, H.Snyder
    [3] D.Sagan, D.Rubin Phys.Rev.Spec.Top.-Accelerators and beams,
        vol.2 (1999)
    [4] Brian W. Montague Report LEP Note 165, CERN, 1979
</pre> 
</div>
</div>
<a id="a91ae6cfdb3a3a9288a4d4883b5ece5a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ae6cfdb3a3a9288a4d4883b5ece5a2">&#9670;&nbsp;</a></span>linopt4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.linopt4 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform linear analysis of a H/V coupled lattice following Sagan/Rubin
4D-analysis of coupled motion

elemdata0, beamdata, elemdata = linopt4(lattice, refpts, **kwargs)

PARAMETERS
    lattice         lattice description.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.
KEYWORDS
    dp=0.0          momentum deviation.
    dct=None        path lengthening. If specified, dp is ignored and the
                    off-momentum is deduced from the path lengthening.
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    get_chrom=False compute chromaticities. Needs computing the tune at
                    2 different momentum deviations around the central one.
    get_w=False     computes chromatic amplitude functions (W) [4].
                    Needs to compute the optics at 2 different momentum
                    deviations around the central one.
    keep_lattice    Assume no lattice change since the previous tracking.
                    Defaults to False
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-6   momentum deviation used for computation of
                    chromaticities and dispersion
    twiss_in=None   Initial twiss to compute transfer line optics of the
                    type lindata, the initial orbit in twiss_in is ignored,
                    only the beta and alpha are required other quatities
                    set to 0 if absent
    twiss_in=None   Initial conditions for transfer line optics. Record
                    array as output by linopt, or dictionary. Keys:
                    'alpha' and 'beta'  (mandatory)
                    'closed_orbit',     (default 0)
                    'dispersion'        (default 0)
                    All other attributes are ignored.
OUTPUT
    lindata0        linear optics data at the entrance of the ring
    beamdata        lattice properties
    lindata         linear optics at the points refered to by refpts, if
                    refpts is None an empty lindata structure is returned.

    lindata is a record array with fields:
    s_pos           longitudinal position [m]
    M               (4, 4) transfer matrix M from the beginning of ring
                    to the entrance of the element [2]
    closed_orbit    (6,) closed orbit vector
    dispersion      (4,) dispersion vector
    beta            [betax, betay] vector
    alpha           [alphax, alphay] vector
    mu              [mux, muy], betatron phase (modulo 2*pi)
    gamma           gamma parameter of the transformation to eigenmodes [3]
    W               (2,) chromatic amplitude function (only if get_w==True)
    All values given at the entrance of each element specified in refpts.
    Field values can be obtained with either
    lindata['idx']    or
    lindata.idx

    beamdata is a record with fields:
    tune            Fractional tunes
    chromaticity    Chromaticities, only computed if get_chrom==True

REFERENCES
    [1] D.Edwards,L.Teng IEEE Trans.Nucl.Sci. NS-20, No.3, p.885-888, 1973
    [2] E.Courant, H.Snyder
    [3] D.Sagan, D.Rubin Phys.Rev.Spec.Top.-Accelerators and beams,
        vol.2 (1999)
    [4] Brian W. Montague Report LEP Note 165, CERN, 1979
</pre> 
</div>
</div>
<a id="aa15a9e0a6d5eecc6a7743cf94d78f36e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa15a9e0a6d5eecc6a7743cf94d78f36e">&#9670;&nbsp;</a></span>linopt6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.linopt6 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform linear analysis of a fully coupled lattice using normal modes

elemdata0, beamdata, elemdata = linopt6(lattice, refpts, **kwargs)

For circular machines, linopt6 analyses
the 4x4 1-turn transfer matrix if radiation is OFF, or
the 6x6 1-turn transfer matrix if radiation is ON.

For a transfer line, The "twiss_in" intput must contain either:
 - a field 'R', as provided by ATLINOPT6, or
  - the fields 'beta' and 'alpha', as provided by linopt and linopt6

PARAMETERS
    lattice         lattice description.
    refpts=None     elements at which data is returned.

KEYWORDS
    dp=None         Ignored if radiation is ON. Momentum deviation.
    dct=None        Ignored if radiation is ON. Path lengthening.
                    If specified, dp is ignored and the off-momentum is
                    deduced from the path lengthening.
    orbit           avoids looking for the closed orbit if is already known
                    ((6,) array)
    get_chrom=False compute chromaticities. Needs computing the tune at
                    2 different momentum deviations around the central one.
    get_w=False     compute chromatic amplitude functions (W) [3]. Needs to
                    compute the optics at 2 different momentum deviations
                    around the central one.
    keep_lattice    Assume no lattice change since the previous tracking.
                    Defaults to False
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-6   momentum deviation used for computation of
                    the closed orbit
    twiss_in=None   Initial conditions for transfer line optics. Record
                    array as output by linopt, or dictionary. Keys:
                    'R' or 'alpha' and 'beta'   (mandatory)
                    'closed_orbit',             (default 0)
                    'dispersion'                (default 0)
                    If present, the attribute 'R' will be used, otherwise
                    the attributes 'alpha' and 'beta' will be used. All
                    other attributes are ignored.
    cavpts=None     Cavity location for off-momentum tuning

OUTPUT
    elemdata0       linear optics data at the entrance of the ring
    beamdata        lattice properties
    elemdata        linear optics at the points refered to by refpts, if
                    refpts is None an empty elemdata structure is returned.

    elemdata is a record array with fields:
    s_pos           longitudinal position [m]
    M               Transfer matrix from the entrance of the line (6, 6)
    closed_orbit    (6,) closed orbit vector
    dispersion      (4,) dispersion vector
    A               A-matrix (6, 6)
    R               R-matrices (3, 6, 6)
    beta            [betax, betay] vector
    alpha           [alphax, alphay] vector
    mu              [mux, muy], betatron phases
    W               (2,) chromatic amplitude function (only if get_w==True)

    All values given at the entrance of each element specified in refpts.
    Field values can be obtained with either
    elemdata['beta']    or
    elemdata.beta

    beamdata is a record with fields:
    tune            Fractional tunes
    chromaticity    Chromaticities, only computed if get_chrom==True
    damping_time    Damping times [s] (only if radiation is ON)

REFERENCES
    [1] Etienne Forest, Phys. Rev. E 58, 2481 – Published 1 August 1998
    [2] Andrzej Wolski, Phys. Rev. ST Accel. Beams 9, 024001 –
        Published 3 February 2006
    [3] Brian W. Montague Report LEP Note 165, CERN, 1979
</pre> 
</div>
</div>
<a id="a77c5bccb9c9f6abbcae668e8ebf0b6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c5bccb9c9f6abbcae668e8ebf0b6fc">&#9670;&nbsp;</a></span>linopt_auto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def at.physics.linear.linopt_auto </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is a convenience function to automatically switch to the faster
linopt2 in case coupled=False and ring.radiation=False otherwise the
default linopt6 is used

PARAMETERS
    Same as linopt2 or linopt6

KEYWORDS
    coupled = True  If set to False H/V coupling will be ingnored to
                    simplify the calculation, needs radiation OFF

OUTPUT
    elemdata0       linear optics data at the entrance of the ring
    beamdata        lattice properties
    elemdata        linear optics at the points refered to by refpts, if
                    refpts is None an empty elemdata structure is returned.

!!!WARNING!!!       Output varies depending whether linopt2 or linopt6 is
                    called to be used with care
</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceat.html">at</a></li><li class="navelem"><a class="el" href="namespaceat_1_1physics.html">physics</a></li><li class="navelem"><a class="el" href="namespaceat_1_1physics_1_1linear.html">linear</a></li>
    <li class="footer">Generated on Tue May 10 2022 16:17:09 for pyAT by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
