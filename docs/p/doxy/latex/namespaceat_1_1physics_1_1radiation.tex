\hypertarget{namespaceat_1_1physics_1_1radiation}{}\doxysection{at.\+physics.\+radiation Namespace Reference}
\label{namespaceat_1_1physics_1_1radiation}\index{at.physics.radiation@{at.physics.radiation}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceat_1_1physics_1_1radiation_a92a0b22940ab84f6aab91a014fec2b9c}{ohmi\+\_\+envelope}} (ring, refpts=None, orbit=None, keep\+\_\+lattice=False)
\item 
def \mbox{\hyperlink{namespaceat_1_1physics_1_1radiation_a8c2995d972da8322a46023e2554a5d58}{get\+\_\+radiation\+\_\+integrals}} (ring, dp=None, twiss=None, $\ast$$\ast$kwargs)
\item 
def \mbox{\hyperlink{namespaceat_1_1physics_1_1radiation_a17adb2b44b77b809fe3814e6d373c27b}{quantdiffmat}} (ring, orbit=None)
\item 
def \mbox{\hyperlink{namespaceat_1_1physics_1_1radiation_a56ead835bcd91ebb7518286b738ac25d}{gen\+\_\+quantdiff\+\_\+elem}} (ring, orbit=None)
\item 
def \mbox{\hyperlink{namespaceat_1_1physics_1_1radiation_af4d947a255ef1f012cc438264b93814f}{tapering}} (ring, multipoles=True, niter=1, $\ast$$\ast$kwargs)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
list {\bfseries E\+N\+V\+E\+L\+O\+P\+E\+\_\+\+D\+T\+Y\+PE}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Radiation and equilibrium emittances
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceat_1_1physics_1_1radiation_a56ead835bcd91ebb7518286b738ac25d}\label{namespaceat_1_1physics_1_1radiation_a56ead835bcd91ebb7518286b738ac25d}} 
\index{at.physics.radiation@{at.physics.radiation}!gen\_quantdiff\_elem@{gen\_quantdiff\_elem}}
\index{gen\_quantdiff\_elem@{gen\_quantdiff\_elem}!at.physics.radiation@{at.physics.radiation}}
\doxysubsubsection{\texorpdfstring{gen\_quantdiff\_elem()}{gen\_quantdiff\_elem()}}
{\footnotesize\ttfamily def at.\+physics.\+radiation.\+gen\+\_\+quantdiff\+\_\+elem (\begin{DoxyParamCaption}\item[{}]{ring,  }\item[{}]{orbit = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generates a quantum diffusion element
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceat_1_1physics_1_1radiation_a8c2995d972da8322a46023e2554a5d58}\label{namespaceat_1_1physics_1_1radiation_a8c2995d972da8322a46023e2554a5d58}} 
\index{at.physics.radiation@{at.physics.radiation}!get\_radiation\_integrals@{get\_radiation\_integrals}}
\index{get\_radiation\_integrals@{get\_radiation\_integrals}!at.physics.radiation@{at.physics.radiation}}
\doxysubsubsection{\texorpdfstring{get\_radiation\_integrals()}{get\_radiation\_integrals()}}
{\footnotesize\ttfamily def at.\+physics.\+radiation.\+get\+\_\+radiation\+\_\+integrals (\begin{DoxyParamCaption}\item[{}]{ring,  }\item[{}]{dp = {\ttfamily None},  }\item[{}]{twiss = {\ttfamily None},  }\item[{$\ast$$\ast$}]{kwargs }\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute the 5 radiation integrals for uncoupled lattices.

PARAMETERS
    ring            lattice description.

KEYWORDS
    twiss=None      linear optics at all points (from linopt). If None,
                    it will be computed.
    dp=0.0          Ignored if radiation is ON. Momentum deviation.
    dct=None        Ignored if radiation is ON. Path lengthening.
                    If specified, dp is ignored and the off-momentum is
                    deduced from the path lengthening.
    method=linopt6  Method used for the analysis of the transfer matrix.
                    See get_optics.
                    linopt6: default
                    linopt2: faster if no longitudinal motion and
                             no H/V coupling,

OUTPUT
    i1, i2, i3, i4, i5
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceat_1_1physics_1_1radiation_a92a0b22940ab84f6aab91a014fec2b9c}\label{namespaceat_1_1physics_1_1radiation_a92a0b22940ab84f6aab91a014fec2b9c}} 
\index{at.physics.radiation@{at.physics.radiation}!ohmi\_envelope@{ohmi\_envelope}}
\index{ohmi\_envelope@{ohmi\_envelope}!at.physics.radiation@{at.physics.radiation}}
\doxysubsubsection{\texorpdfstring{ohmi\_envelope()}{ohmi\_envelope()}}
{\footnotesize\ttfamily def at.\+physics.\+radiation.\+ohmi\+\_\+envelope (\begin{DoxyParamCaption}\item[{}]{ring,  }\item[{}]{refpts = {\ttfamily None},  }\item[{}]{orbit = {\ttfamily None},  }\item[{}]{keep\+\_\+lattice = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Calculate the equilibrium beam envelope in a
circular accelerator using Ohmi's beam envelope formalism [1]

emit0, beamdata, emit = ohmi_envelope(ring[, refpts])

PARAMETERS
    ring            Lattice object.
    refpts=None     elements at which data is returned. It can be:
                    1) an integer in the range [-len(ring), len(ring)-1]
                       selecting the element according to python indexing
                       rules. As a special case, len(ring) is allowed and
                       refers to the end of the last element,
                    2) an ordered list of such integers without duplicates,
                    3) a numpy array of booleans of maximum length
                       len(ring)+1, where selected elements are True.

KEYWORDS
    orbit=None          Avoids looking for the closed orbit if it is
                        already known ((6,) array)
    keep_lattice=False  Assume no lattice change since the previous
                        tracking

OUTPUT
    emit0               emittance data at the start/end of the ring
    beamdata            beam parameters at the start of the ring
    emit                emittance data at the points refered to by refpts,
                        if refpts is None an empty structure is returned.

    emit is a record array with fields:
    r66                 (6, 6) equilibrium envelope matrix R
    r44                 (4, 4) betatron emittance matrix (dpp = 0)
    m66                 (6, 6) transfer matrix from the start of the ring
    orbit6              (6,) closed orbit
    emitXY              (2,) betatron emittance projected on xxp and yyp
    emitXYZ             (3,) 6x6 emittance projected on xxp, yyp, ldp

    beamdata is a record array with fields:
    tunes               tunes of the 3 normal modes
    damping_rates       damping rates of the 3 normal modes
    mode_matrices       R-matrices of the 3 normal modes
    mode_emittances     equilibrium emittances of the 3 normal modes

    Field values can be obtained with either
    emit['r66']    or
    emit.r66

REFERENCES
    [1] K.Ohmi et al. Phys.Rev.E. Vol.49. (1994)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceat_1_1physics_1_1radiation_a17adb2b44b77b809fe3814e6d373c27b}\label{namespaceat_1_1physics_1_1radiation_a17adb2b44b77b809fe3814e6d373c27b}} 
\index{at.physics.radiation@{at.physics.radiation}!quantdiffmat@{quantdiffmat}}
\index{quantdiffmat@{quantdiffmat}!at.physics.radiation@{at.physics.radiation}}
\doxysubsubsection{\texorpdfstring{quantdiffmat()}{quantdiffmat()}}
{\footnotesize\ttfamily def at.\+physics.\+radiation.\+quantdiffmat (\begin{DoxyParamCaption}\item[{}]{ring,  }\item[{}]{orbit = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}This function computes the diffusion matrix of the whole ring

PARAMETERS
    ring            lattice description.
    orbit=None      initial orbit

OUTPUT
    diffusion matrix (6,6)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceat_1_1physics_1_1radiation_af4d947a255ef1f012cc438264b93814f}\label{namespaceat_1_1physics_1_1radiation_af4d947a255ef1f012cc438264b93814f}} 
\index{at.physics.radiation@{at.physics.radiation}!tapering@{tapering}}
\index{tapering@{tapering}!at.physics.radiation@{at.physics.radiation}}
\doxysubsubsection{\texorpdfstring{tapering()}{tapering()}}
{\footnotesize\ttfamily def at.\+physics.\+radiation.\+tapering (\begin{DoxyParamCaption}\item[{}]{ring,  }\item[{}]{multipoles = {\ttfamily True},  }\item[{}]{niter = {\ttfamily 1},  }\item[{$\ast$$\ast$}]{kwargs }\end{DoxyParamCaption})}

\begin{DoxyVerb}Scales magnet strength with local energy to cancel the closed orbit
and optics errors due to synchrotron radiations. PolynomB is used for
dipoles such that the machine geometry is maintained. This is the ideal
tapering scheme where magnets and multipoles components (PolynomB and
PolynomA) are scaled individually.
!!! WARNING: This method works only for lattices without errors and
corrections: if not all corrections and field errors will also be
scaled !!!
tapering(ring) or ring.tapering()
PARAMETERS
    ring            lattice description.

KEYWORDS
    multipoles=True scale all multipoles
    method          Method for energy loss computation
                    (see get_energy_loss)
    niter=1         number of iteration
    XYStep=1.0e-8   transverse step for numerical computation
    DPStep=1.0E-6   momentum deviation used for computation of orbit6
\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceat_1_1physics_1_1radiation_ad60ec92bb41cc98391a8ab78d5b0827b}\label{namespaceat_1_1physics_1_1radiation_ad60ec92bb41cc98391a8ab78d5b0827b}} 
\index{at.physics.radiation@{at.physics.radiation}!ENVELOPE\_DTYPE@{ENVELOPE\_DTYPE}}
\index{ENVELOPE\_DTYPE@{ENVELOPE\_DTYPE}!at.physics.radiation@{at.physics.radiation}}
\doxysubsubsection{\texorpdfstring{ENVELOPE\_DTYPE}{ENVELOPE\_DTYPE}}
{\footnotesize\ttfamily list at.\+physics.\+radiation.\+E\+N\+V\+E\+L\+O\+P\+E\+\_\+\+D\+T\+Y\+PE}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  [(\textcolor{stringliteral}{'r66'}, numpy.float64, (6, 6)),}
\DoxyCodeLine{2                   (\textcolor{stringliteral}{'r44'}, numpy.float64, (4, 4)),}
\DoxyCodeLine{3                   (\textcolor{stringliteral}{'m66'}, numpy.float64, (6, 6)),}
\DoxyCodeLine{4                   (\textcolor{stringliteral}{'orbit6'}, numpy.float64, (6,)),}
\DoxyCodeLine{5                   (\textcolor{stringliteral}{'emitXY'}, numpy.float64, (2,)),}
\DoxyCodeLine{6                   (\textcolor{stringliteral}{'emitXYZ'}, numpy.float64, (3,))]}

\end{DoxyCode}
